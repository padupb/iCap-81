[
  {"file": "server/server.ts", "line": 1628, "changes": "Corrigir verificação de pedidos urgentes no backend\n\nReplacing\n<old_str>\n// Verificar se é urgente (menos de 7 dias para a entrega)\n      const deliveryDate = new Date(delivery_date);\n      deliveryDate.setHours(0, 0, 0, 0);\n\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n\n      const daysDiff = Math.floor((deliveryDate.getTime() - today.getTime()) / (1000 * 3600 * 24));\n      const isUrgent = daysDiff < 7;\n</old_str>\nwith\n<new_str>\n// Verificar se é urgente (APENAS se tiver MENOS de 7 dias completos)\n      const deliveryDate = new Date(delivery_date);\n      deliveryDate.setHours(0, 0, 0, 0);\n\n      const today = new Date();\n      today.setHours(0, 0, 0, 0);\n\n      const daysDiff = Math.floor((deliveryDate.getTime() - today.getTime()) / (1000 * 3600 * 24));\n      // Urgente apenas com 0 a 6 dias completos (não inclui 7 dias)\n      const isUrgent = daysDiff >= 0 && daysDiff < 7;\n</new_str>"}
]
```